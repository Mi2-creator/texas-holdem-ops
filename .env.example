# =============================================================================
# Texas Hold'em Server - Environment Configuration
# Copy to .env and customize for your deployment
# =============================================================================

# -----------------------------------------------------------------------------
# Network Configuration
# -----------------------------------------------------------------------------
# HTTP server bind address (format: :PORT or HOST:PORT)
HTTP_ADDR=:8080

# Host port to expose (for docker-compose port mapping)
HOST_PORT=8080

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
# Log level: debug, info, warn, error
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Storage Configuration
# -----------------------------------------------------------------------------
# Storage mode: file or memory
# - file: Persists hands/rake/audit to DATA_DIR (recommended for production)
# - memory: In-memory only, data lost on restart
STORAGE_MODE=file

# Data directory for file storage (inside container: /data)
# For local dev, this is relative to project root
DATA_DIR=./data

# Volume path for docker bind mount (absolute path recommended)
DATA_VOLUME_PATH=./data

# -----------------------------------------------------------------------------
# Server Lifecycle & Modes
# -----------------------------------------------------------------------------
# Graceful shutdown timeout in seconds
SHUTDOWN_TIMEOUT=30

# Soft launch mode: Only reconnects allowed, no new games (sets READ_ONLY)
SOFT_LAUNCH=false

# Read-only mode: Reconnects and exports only, no new games or actions
READ_ONLY=false

# Shutdown mode: Drain connections, reject new joins
SHUTDOWN=false

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
# Enable rate limiting (recommended for production)
RATE_LIMIT_ENABLED=true

# Requests per second per client
RATE_LIMIT_RPS=10.0

# Burst size (max requests in bucket)
RATE_LIMIT_BURST=20

# -----------------------------------------------------------------------------
# Build Information (set during CI/CD)
# -----------------------------------------------------------------------------
VERSION=dev
GIT_COMMIT=unknown
BUILD_TIME=unknown

# -----------------------------------------------------------------------------
# Server Source Path (for docker build context)
# -----------------------------------------------------------------------------
SERVER_SRC=../texas-holdem-client
